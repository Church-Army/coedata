---
title: "Reading CoE statistics"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Reading CoE statistics}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r}
library(coeparishdata)
```

<!-- WARNING - This vignette is generated by {fusen} from dev/flat_reading-coe-statistics.Rmd: do not edit by hand -->




## coe_census_datasets()

Display information on all datasets available through this package. Default is to return a two-column tibble including `ons_id` and `description`, but setting `description = FALSE` will return a character vector of all valid nomis codes which can be passed to functions such as `coe_census()` 

```{r examples-coe_census_datasets}
coe_census_datasets() |>
  dplyr::glimpse()
```


## coe_census

Get statistics on a particular topic, for a particular geographical level, filtering as required. Levels include 'parish', 'diocese' or 'england'. Parishes can be filtered with parish codes and dioceses with diocese numbers, but national-level tables are comprised of a single row and cannot be filtered.

```{r examples-coe_census}
coe_census(ons_id =  "TS001", level = "england")
coe_census(ons_id = "TS001", level = "diocese", areas = 1)
```



## coe_census_parish

A convenient wrapper around `coe_census` for getting parish-level statistics for parishes of your choosing

```{r examples-coe_census_parish}
coe_census_parish(ons_id = "TS062", parish_codes = "350041", relative = TRUE)
```


## coe_census_diocese

A convenient wrapper around `coe_census` for getting diocese-level statistics for dioceses of your choosing

```{r examples-coe_census_diocese}
coe_census_diocese(ons_id = "TS062", diocese_numbers = c(3, 7), relative = TRUE)
```


## coe_census_england

A convenient wrapper around `coe_census` for getting national-level stats for a topic of your choosing

```{r examples-coe_census_england}
coe_census_england(ons_id = "TS062", relative = TRUE)
```


## coe_parish_census_context

Get a contextual 'snapshot' of any given parish for any number of census topics, comparing the parochial statistics with those of the diocese and the whole of England. A wrapper around `coe_census_parish()`, `coe_census_diocese()` and `coe_census_england()` to obtain relative statistics for each geography and combine them into a single table, iterating over census topics to return a list.

```{r examples-coe_parish_census_context}
coe_parish_census_context(parish_code = "370047", ons_ids = "TS001")
```




